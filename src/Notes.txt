*** NGINX ***

-Création des fichiers serveur

sudo nano /etc/nginx/sites-available/myapp1.conf 

-copie ce contenu dans le fichier myapp1.conf 

server {
	listen 80;
	listen [::]:80;
	
   server_name myapp1.demo-server-spider.com;
   location / {
		   proxy_intercept_errors on;
		   proxy_pass http://127.0.0.1:3024;
		   proxy_set_header Host $host;
		   proxy_set_header X-Real-IP $remote_addr;
		   proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		   proxy_set_header X-Forwarded-Proto $scheme;
		
		   # Enables WS support
		   proxy_http_version 1.1;
		   proxy_set_header Upgrade $http_upgrade;
		   proxy_set_header Connection "upgrade";
		   proxy_socket_keepalive on;
		 }
	}



-Créer un lien symbolique en se positionnant à la racine de la machine 
cd /

sudo ln -s /etc/nginx/sites-available/myapp1.conf /etc/nginx/sites-enabled/

-Tester la configuration
sudo nginx -t


-Redémarrer le serveur Nginx
sudo systemctl restart nginx

-Ajouter les certificats ssl sur la nouveau port : ex:3024
certbot --nginx -d myapp1.demo-server-spider.com

# Lister les certificats
sudo certbot certificates

--------------------------------------------------------------------------------------------------------